/**
 * @module  lib/Ripple
 * @version 7.1479.5-20190702
 * @license Apache-2.0
 */
const setStyleProperties=(e,t)=>{Object.keys(t).forEach(a=>{const n=t[a];e.style.setProperty(a,n)})},settings={initialScale:.6},state={CSSEle:document.createElement("style"),animating:!1,focusing:!1,currentEle:null},Ripple={markWord:"Ripple",set(e){Object.assign(settings,e)},load(e=document.body){const{CSSEle:t}=state;t.isConnected||(t.innerText=CSS(),document.body.appendChild(t),Reflect.defineProperty(Ripple,"markWord",{writable:!1})),e.addEventListener("mousedown",Ripple.start),e.addEventListener("mouseup",Ripple.blur),e.addEventListener("animationend",Ripple.animationEnd)},start({offsetX:e,offsetY:t,target:a}){if(!a.hasAttribute(Ripple.markWord))return;state.currentEle&&Ripple.stop(),state.animating=!0,state.focusing=!0,state.currentEle=a;const{clientWidth:n,clientHeight:r}=a,i=Math.max(n,r)*settings.initialScale,o=Math.hypot(n,r)/i;var s,p;s=a,p={[propName("center")]:`${n/2}px, ${r/2}px`,[propName("kiss-point")]:`${e}px, ${t}px`,[propName("diameter")]:`${i}px`,[propName("scale")]:o},Object.keys(p).forEach(e=>{const t=p[e];s.style.setProperty(e,t)}),a.classList.remove(animName("ended")),a.classList.add(animName("running"))},blur(){state.currentEle&&(state.focusing=!1,state.animating||Ripple.stop())},animationEnd({animationName:e}){state.currentEle&&e===animName("running")&&(state.animating=!1,state.focusing||Ripple.stop())},stop(){const{currentEle:e}=state;e.classList.remove(animName("running")),e.classList.add(animName("ended")),state.currentEle=null}};export default Ripple;const css=String.raw,propName=e=>`--${Ripple.markWord}-${e}`,animName=e=>`${Ripple.markWord}-${e}`,CSS=(e=Ripple.markWord)=>css`[${e}]{position:relative;overflow:hidden;cursor:pointer;-webkit-tap-highlight-color:transparent}[${e}]>*{pointer-events:none}[${e}]::after,[${e}]::before{position:absolute;background-color:rgba(0,0,0,.06);opacity:0;pointer-events:none;content:''}[${e}]::before{top:-50%;left:-50%;width:200%;height:200%}[${e}]::after{top:calc(var(${propName("diameter")})/ -2);left:calc(var(${propName("diameter")})/ -2);width:var(${propName("diameter")},60px);height:var(${propName("diameter")},60px);transform:translate(var(${propName("center")},0));transform-origin:center center;border-radius:50%}[${e}]:hover::after,[${e}]:hover::before{will-change:opacity,transform}[${e}].${animName("running")}::before{opacity:1;animation:83ms ${animName("opacity-in")} forwards}[${e}].${animName("running")}::after{opacity:1;animation:.3s ${animName("running")} forwards,83ms opacity-in forwards}[${e}].${animName("ended")}::after,[${e}].${animName("ended")}::before{transform:translate(var(${propName("center")},0)) scale(var(${propName("scale")},1));animation:83ms ${animName("opacity-out")} forwards}@keyframes ${animName("running")}{from{transform:translate(var(${propName("kiss-point")},0)) scale(1);animation-timing-function:cubic-bezier(.4,0,.2,1)}to{transform:translate(var(${propName("center")},0)) scale(var(${propName("scale")},1))}}@keyframes ${animName("opacity-in")}{from{opacity:0;animation-timing-function:linear}to{opacity:1}}@keyframes ${animName("opacity-out")}{from{opacity:1;animation-timing-function:linear}to{opacity:0}}`;
